---
const overlayProps = {
  "data-state": "closed",
  class: "overlay",
};

const videoProps = {
  class: "video",
  controls: false,
  autoplay: true,
  muted: true,
  loop: true,
};

const playProps = {
  "data-state": 'playing',
  class: 'play',
}

const muteProps = {
  "data-state": 'muted',
  class: 'mute',
}
---

<div {...overlayProps}>
  <div class="wrap">
    <div class="content">
      <video {...videoProps}></video>
      <div class="controls">
        <button class="close">close</button>
        <div class="bottom">
          <button class="prev">prev</button>
          <button {...playProps}>pause</button>
          <button {...muteProps}>mute</button>
          <button class="next">next</button>
        </div>
      </div>
    </div>
  </div>
</div>

<style lang="scss">
  @import "~styles/mixins";

  @mixin inset {
    bottom: 0;
    right: 0;
    left: 0;
    top: 0;
  }

  .overlay {
    @include inset;
    justify-content: center;
    align-items: center;
    background: black;
    position: fixed;
    display: flex;
    z-index: 3;

    &[data-state="closed"] {
      display: none;
    }
  }

  .wrap {
    justify-content: center;
    position: relative;
    padding: 1.25rem;
    display: flex;
    height: 100vh;
    width: 100vw;
  }

  .content {
    $size: 1024px;

    justify-content: center;
    align-items: center;
    position: relative;
    max-height: $size;
    max-width: $size;
    display: flex;
    height: 100%;
  }

  .video {
    border-radius: $border-radius-sm;
    max-height: 100%;
    max-width: 100%;
    display: block;

    &[data-ratio="portrait"] {
      width: auto;
      height: 100%;
    }

    &[data-ratio="landscape"] {
      width: 100%;
      height: auto;
    }
  }

  .controls {
    @include inset;
    position: absolute;
    margin: auto;
  }

  .close {
    position: absolute;
    right: 0;
    top: 0;
  }

  .bottom {
    text-align: center;
    position: absolute;
    width: 100%;
    bottom: 0;
  }
</style>
