---
import Card from "~components/Page/Card.astro";
import Row from "~components/Page/Row.astro";

import type { rowProps, cardProps } from "~types/article/rows";

let { rows } = Astro.props;

let rowProps: rowProps = {
  controls: false,
  data: "article",
  content: {
    columns: 3,
  },
};
---

{
  rows.map(function (row: [object], index: number) {
    if (index > 0) {
      rowProps.style = {
        display: "none",
      };
    }

    return (
      <Row {...rowProps}>
        {row.map(function (card: object, index: number) {
          let cardProps: cardProps = {
            countWords: true,
            index,
            card,
          };
          return <Card {...cardProps} />;
        })}
      </Row>
    );
  })
}
